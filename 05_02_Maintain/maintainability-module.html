<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 5.2: Design for Maintenance | The Nuclear House</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Inter:wght@300;400;500&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --bg-card: #0f3460;
            --bg-darker: #0d1b2a;
            
            --text-primary: #eaeaea;
            --text-secondary: #a0a0a0;
            --text-heading: #ffffff;
            
            --accent-warning: #f0a500;
            --accent-cost: #ff6b6b;
            --accent-good: #00d9ff;
            --accent-success: #4ecca3;
            --gold-glow: rgba(240, 165, 0, 0.3);
            --cyan-glow: rgba(0, 217, 255, 0.3);
            
            --button-primary: #f0a500;
            --button-hover: #ffc107;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            font-weight: 400;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            line-height: 1.2;
            color: var(--text-heading);
        }

        .mono {
            font-family: 'Roboto Mono', monospace;
        }

        /* Fixed Header */
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 1000;
        }

        .header-logo {
            height: 35px;
            opacity: 0.9;
        }

        .header-title {
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .header-progress {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .progress-track {
            width: 150px;
            height: 4px;
            background: var(--bg-card);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-warning), var(--button-hover));
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-family: 'Roboto Mono', monospace;
        }

        .menu-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            padding: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .menu-toggle span {
            display: block;
            width: 24px;
            height: 2px;
            background: var(--text-primary);
            transition: all 0.3s ease;
        }

        /* Navigation Menu */
        .nav-menu {
            position: fixed;
            top: 60px;
            right: 0;
            bottom: 0;
            background: var(--bg-secondary);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 999;
            min-width: 300px;
            overflow-y: auto;
        }

        .nav-menu.open {
            transform: translateX(0);
        }

        .nav-menu h3 {
            font-size: 0.85rem;
            color: var(--text-secondary);
            letter-spacing: 2px;
            margin-bottom: 1rem;
            padding: 0 1rem;
        }

        .nav-menu a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            margin-bottom: 0.25rem;
        }

        .nav-menu a:hover {
            background: rgba(240, 165, 0, 0.1);
            color: var(--accent-warning);
        }

        .nav-menu a.active {
            background: var(--accent-warning);
            color: var(--bg-primary);
        }

        .nav-menu a.completed {
            color: var(--accent-success);
        }

        .nav-menu a .nav-icon {
            width: 24px;
            text-align: center;
        }

        /* Page Container */
        .page {
            display: none;
            min-height: 100vh;
            padding-top: 60px;
        }

        .page.active {
            display: block;
        }

        /* SCREEN 1: Opening Hook */
        .hook-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hook-bg {
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse at 30% 20%, rgba(240, 165, 0, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(255, 107, 107, 0.05) 0%, transparent 50%),
                var(--bg-primary);
            z-index: -1;
        }

        .money-amount {
            font-family: 'Roboto Mono', monospace;
            font-size: clamp(4rem, 12vw, 10rem);
            font-weight: 700;
            color: var(--accent-warning);
            text-shadow: 0 0 60px var(--gold-glow);
            opacity: 0;
            transform: scale(0.8);
            animation: revealMoney 1s ease forwards;
        }

        @keyframes revealMoney {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .hook-text {
            max-width: 700px;
            margin: 2rem auto;
        }

        .hook-text p {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
        }

        .hook-text p.visible {
            animation: fadeUp 0.8s ease forwards;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hook-text .highlight {
            color: var(--accent-cost);
            font-weight: 500;
        }

        .hook-text .impact {
            font-size: 1.5rem;
            color: var(--text-heading);
            font-weight: 500;
            margin-top: 2rem;
        }

        .cost-ticker {
            display: inline-flex;
            align-items: baseline;
            gap: 0.5rem;
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid var(--accent-cost);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .cost-ticker .label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .cost-ticker .value {
            font-family: 'Roboto Mono', monospace;
            font-size: 1.5rem;
            color: var(--accent-cost);
            font-weight: 700;
        }

        /* Buttons */
        .btn-primary {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            background: var(--accent-warning);
            color: var(--bg-primary);
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
            border-radius: 4px;
        }

        .btn-primary:hover {
            background: var(--button-hover);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px var(--gold-glow);
        }

        .btn-secondary {
            padding: 0.75rem 1.5rem;
            background: transparent;
            color: var(--accent-warning);
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            border: 2px solid var(--accent-warning);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: var(--accent-warning);
            color: var(--bg-primary);
        }

        /* Section Styles */
        .section {
            padding: 5rem 2rem;
            position: relative;
        }

        .section-container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .section-tag {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(240, 165, 0, 0.15);
            border-left: 3px solid var(--accent-warning);
            color: var(--accent-warning);
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 0.85rem;
            letter-spacing: 2px;
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: clamp(1.75rem, 3.5vw, 2.5rem);
            margin-bottom: 1rem;
        }

        .section-intro {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
            max-width: 800px;
        }

        /* Regulatory Elements */
        .regulatory-note {
            font-size: 0.95rem;
            color: var(--accent-warning);
            font-style: italic;
            margin-top: 0.5rem;
            opacity: 0;
        }

        .regulatory-callout {
            background: linear-gradient(135deg, rgba(240, 165, 0, 0.1), rgba(240, 165, 0, 0.05));
            border: 1px solid rgba(240, 165, 0, 0.3);
            border-left: 4px solid var(--accent-warning);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
            display: flex;
            gap: 1rem;
            align-items: flex-start;
        }

        .regulatory-callout .reg-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .regulatory-callout .reg-content h4 {
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            color: var(--accent-warning);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .regulatory-callout .reg-content p {
            font-size: 0.95rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .regulatory-callout .reg-content p:last-child {
            margin-bottom: 0;
        }

        .regulatory-callout .reg-implication {
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 0.75rem;
        }

        .regulatory-callout.compact {
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
        }

        .regulatory-callout.compact .reg-icon {
            font-size: 1.25rem;
        }

        .regulatory-callout.compact .reg-content h4 {
            font-size: 0.95rem;
        }

        .regulatory-callout.compact .reg-content p {
            font-size: 0.9rem;
        }

        .reg-reference {
            display: inline-block;
            background: rgba(240, 165, 0, 0.15);
            color: var(--accent-warning);
            padding: 0.15rem 0.5rem;
            border-radius: 4px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
            font-weight: 500;
            margin-left: 0.25rem;
        }

        /* SCREEN 2: Outage Reality */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-warning);
        }

        .stat-card .value {
            font-family: 'Roboto Mono', monospace;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-warning);
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-card .label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .stat-card.cost .value {
            color: var(--accent-cost);
        }

        .timeline-visual {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .timeline-bar {
            display: flex;
            align-items: center;
            height: 60px;
            margin: 2rem 0;
        }

        .timeline-segment {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 0.5rem 1rem;
            position: relative;
        }

        .timeline-segment.operation {
            flex: 3;
            background: linear-gradient(90deg, var(--accent-success), var(--accent-good));
            border-radius: 8px 0 0 8px;
        }

        .timeline-segment.outage {
            flex: 0.3;
            background: linear-gradient(90deg, var(--accent-cost), var(--accent-warning));
            animation: outageGlow 2s ease infinite;
        }

        @keyframes outageGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 107, 0.3); }
            50% { box-shadow: 0 0 40px rgba(255, 107, 107, 0.6); }
        }

        .timeline-segment.operation-end {
            flex: 3;
            background: linear-gradient(90deg, var(--accent-good), var(--accent-success));
            border-radius: 0 8px 8px 0;
        }

        .timeline-segment span {
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--bg-primary);
        }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
        }

        .timeline-label {
            text-align: center;
            flex: 1;
        }

        .timeline-label .title {
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            color: var(--text-primary);
        }

        .timeline-label .detail {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .quote-box {
            background: var(--bg-card);
            border-left: 4px solid var(--accent-warning);
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }

        .quote-box p {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin: 0;
        }

        .quote-box .attribution {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.75rem;
            font-style: normal;
        }

        /* SCREEN 3: Four Principles */
        .principles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .principle-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .principle-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent 0%, rgba(240, 165, 0, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .principle-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--accent-warning);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .principle-card:hover::before {
            opacity: 1;
        }

        .principle-card .icon {
            width: 80px;
            height: 80px;
            background: var(--bg-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            transition: all 0.3s ease;
        }

        .principle-card:hover .icon {
            background: var(--accent-warning);
            transform: scale(1.1);
        }

        .principle-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            transition: color 0.3s ease;
        }

        .principle-card:hover h3 {
            color: var(--accent-warning);
        }

        .principle-card .subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .principle-card .number {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
            opacity: 0.5;
        }

        /* SCREEN 4-7: Principle Detail Pages */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        @media (max-width: 900px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }
        }

        .comparison-panel {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .comparison-panel.good {
            border-color: var(--accent-good);
        }

        .comparison-panel.good:hover {
            box-shadow: 0 0 30px var(--cyan-glow);
        }

        .comparison-panel.bad {
            border-color: var(--accent-cost);
        }

        .comparison-panel.bad:hover {
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .panel-header .badge {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .panel-header .badge.good {
            background: rgba(0, 217, 255, 0.2);
            color: var(--accent-good);
        }

        .panel-header .badge.bad {
            background: rgba(255, 107, 107, 0.2);
            color: var(--accent-cost);
        }

        .image-placeholder {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 3rem 2rem;
            text-align: center;
            margin-bottom: 1.5rem;
            border: 2px dashed rgba(255, 255, 255, 0.1);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            overflow: hidden;
        }

        .image-placeholder img {
            max-width: 100%;
            max-height: 250px;
            object-fit: contain;
            border-radius: 8px;
        }

        .image-placeholder .placeholder-icon {
            font-size: 3rem;
            opacity: 0.5;
        }

        .image-placeholder .placeholder-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .checklist {
            list-style: none;
            margin: 1rem 0;
            padding: 0;
        }

        .checklist li {
            padding: 0.75rem 0;
            padding-left: 2.5rem;
            position: relative;
            color: var(--text-secondary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .checklist li::before {
            position: absolute;
            left: 0;
            font-size: 1.1rem;
        }

        .checklist.good li::before {
            content: '‚úì';
            color: var(--accent-good);
        }

        .checklist.bad li::before {
            content: '‚úó';
            color: var(--accent-cost);
        }

        /* Case Study Box */
        .case-study {
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-card));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .case-study::before {
            content: 'üìç';
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--bg-primary);
            padding: 0 0.5rem;
            font-size: 1.2rem;
        }

        .case-study h4 {
            color: var(--accent-good);
            font-size: 1rem;
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }

        .case-study p {
            color: var(--text-secondary);
            margin: 0;
        }

        /* Quiz Section */
        .quiz-inline {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quiz-inline h4 {
            color: var(--accent-warning);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quiz-inline h4::before {
            content: '‚ùì';
        }

        .quiz-inline .question {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .quiz-option {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            background: rgba(0, 0, 0, 0.2);
            border: 2px solid var(--bg-card);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-option:hover {
            border-color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
        }

        .quiz-option.selected {
            border-color: var(--accent-warning);
            background: rgba(240, 165, 0, 0.1);
        }

        .quiz-option.correct {
            border-color: var(--accent-success);
            background: rgba(78, 204, 163, 0.15);
        }

        .quiz-option.incorrect {
            border-color: var(--accent-cost);
            background: rgba(255, 107, 107, 0.15);
        }

        .quiz-option input {
            display: none;
        }

        .quiz-option .radio {
            width: 20px;
            height: 20px;
            border: 2px solid var(--text-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .quiz-option.selected .radio {
            border-color: var(--accent-warning);
            background: var(--accent-warning);
        }

        .quiz-option.correct .radio {
            border-color: var(--accent-success);
            background: var(--accent-success);
        }

        .quiz-option.incorrect .radio {
            border-color: var(--accent-cost);
            background: var(--accent-cost);
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            display: none;
        }

        .quiz-feedback.visible {
            display: block;
            animation: fadeUp 0.3s ease;
        }

        .quiz-feedback.correct {
            background: rgba(78, 204, 163, 0.15);
            border-left: 4px solid var(--accent-success);
            color: var(--accent-success);
        }

        .quiz-feedback.incorrect {
            background: rgba(255, 107, 107, 0.15);
            border-left: 4px solid var(--accent-cost);
            color: var(--text-primary);
        }

        /* Key Concept Box */
        .key-concept {
            background: var(--bg-card);
            border-left: 4px solid var(--accent-warning);
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-radius: 0 12px 12px 0;
        }

        .key-concept h4 {
            color: var(--accent-warning);
            font-size: 0.9rem;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
        }

        .key-concept p {
            color: var(--text-primary);
            margin: 0;
        }

        /* Warning Box */
        .warning-box {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
            border-left: 4px solid var(--accent-cost);
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-radius: 0 12px 12px 0;
        }

        .warning-box h4 {
            color: var(--accent-cost);
            margin-bottom: 0.5rem;
        }

        .warning-box p {
            color: var(--text-secondary);
            margin: 0;
        }

        /* SCREEN 8: Design Decision Simulator */
        
        /* Hero Image */
        .simulator-hero {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 2rem;
            height: 200px;
            background: linear-gradient(135deg, var(--bg-card), var(--bg-secondary));
        }

        .simulator-hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
        }

        .simulator-hero.no-image {
            height: auto;
            padding: 2rem;
        }

        .simulator-hero.no-image img {
            display: none;
        }

        .hero-overlay-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem 2rem;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .simulator-hero.no-image .hero-overlay-text {
            position: relative;
            background: none;
        }

        .hero-stat {
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-warning);
        }

        .hero-divider {
            color: var(--text-secondary);
        }

        /* Gauge */
        .gauge-container {
            text-align: center;
            min-width: 180px;
        }

        .gauge {
            width: 180px;
            height: 110px;
        }

        .gauge-needle {
            transform-origin: 100px 100px;
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .gauge-labels {
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
            margin-top: -10px;
        }

        .gauge-label-bad, .gauge-label-good {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .gauge-label-bad {
            color: var(--accent-cost);
        }

        .gauge-label-good {
            color: var(--accent-success);
        }

        .gauge-value {
            font-family: 'Roboto Mono', monospace;
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent-success);
            margin-top: 0.25rem;
            transition: color 0.3s ease;
        }

        .gauge-value.warning {
            color: var(--accent-warning);
        }

        .gauge-value.danger {
            color: var(--accent-cost);
        }

        .gauge-title {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .simulator-container {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .simulator-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1.5rem;
        }

        .simulator-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .simulator-title .icon {
            font-size: 1.5rem;
        }

        .simulator-title h3 {
            color: var(--accent-warning);
            margin: 0;
        }

        .decisions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .decision-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card-bg-icon {
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 8rem;
            opacity: 0.04;
            pointer-events: none;
            transition: all 0.3s ease;
        }

        .decision-card:hover .card-bg-icon {
            opacity: 0.08;
            transform: scale(1.1) rotate(-5deg);
        }

        .decision-card.poor-design .card-bg-icon {
            opacity: 0.1;
        }

        .decision-card:hover {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .decision-card.poor-design {
            border-color: var(--accent-cost);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.15);
        }

        .decision-header {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1.25rem;
        }

        .decision-icon {
            font-size: 1.75rem;
            line-height: 1;
        }

        .decision-info h4 {
            margin: 0 0 0.25rem 0;
            font-size: 1.1rem;
        }

        .decision-penalty {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .decision-controls {
            margin-bottom: 1rem;
        }

        .quantity-control {
            margin-bottom: 1rem;
        }

        .quantity-control label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .quantity-slider {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-slider .slider-input {
            flex: 1;
        }

        .slider-input {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--bg-primary);
            border-radius: 4px;
            outline: none;
        }

        .slider-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--accent-warning);
            cursor: pointer;
            box-shadow: 0 0 10px var(--gold-glow);
            transition: all 0.2s ease;
        }

        .slider-input::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .slider-input::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--accent-warning);
            cursor: pointer;
            border: none;
        }

        .qty-value {
            font-family: 'Roboto Mono', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-warning);
            min-width: 60px;
            text-align: right;
        }

        .toggle-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-primary);
            border-radius: 8px;
        }

        .toggle-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            text-align: center;
            flex: 1;
        }

        .toggle-label.good {
            color: var(--text-secondary);
        }

        .toggle-label.bad {
            color: var(--text-secondary);
        }

        .toggle-control:has(input:checked) .toggle-label.good {
            color: var(--accent-success);
            font-weight: 600;
        }

        .toggle-control:has(input:not(:checked)) .toggle-label.bad {
            color: var(--accent-cost);
            font-weight: 600;
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            width: 56px;
            height: 28px;
            flex-shrink: 0;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--accent-cost);
            transition: 0.4s;
            border-radius: 28px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--accent-success);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(28px);
        }

        .decision-impact {
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .impact-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.4rem 0;
        }

        .impact-row.cost-row {
            border-top: 1px dashed rgba(255, 255, 255, 0.05);
            margin-top: 0.25rem;
            padding-top: 0.5rem;
        }

        .impact-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .impact-value {
            font-family: 'Roboto Mono', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-success);
            transition: color 0.3s ease;
        }

        .impact-value.negative {
            color: var(--accent-cost);
        }

        .impact-cost {
            font-family: 'Roboto Mono', monospace;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-success);
            transition: all 0.3s ease;
        }

        .impact-cost.negative {
            color: var(--accent-cost);
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
        }

        /* Results Dashboard */
        .results-dashboard {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            border: 2px solid var(--accent-warning);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .dashboard-header h3 {
            margin: 0;
            color: var(--text-heading);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .result-card {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 1.25rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .result-card.highlight {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 107, 107, 0.05));
            border: 1px solid var(--accent-cost);
        }

        .result-card.major {
            background: linear-gradient(135deg, rgba(240, 165, 0, 0.2), rgba(240, 165, 0, 0.05));
            border: 2px solid var(--accent-warning);
            grid-column: span 2;
        }

        @media (max-width: 600px) {
            .result-card.major {
                grid-column: span 1;
            }
        }

        .result-icon {
            font-size: 1.75rem;
        }

        .result-data {
            display: flex;
            flex-direction: column;
        }

        .result-number {
            font-family: 'Roboto Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-heading);
            line-height: 1.2;
        }

        .result-card.highlight .result-number,
        .result-card.major .result-number {
            color: var(--accent-cost);
        }

        .result-unit {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Impact Breakdown */
        .impact-breakdown {
            margin-bottom: 1.5rem;
            display: none;
        }

        .impact-breakdown.visible {
            display: block;
        }

        .impact-breakdown h4 {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .breakdown-bars {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .breakdown-bar {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .breakdown-label {
            min-width: 140px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .breakdown-track {
            flex: 1;
            height: 12px;
            background: var(--bg-primary);
            border-radius: 6px;
            overflow: hidden;
        }

        .breakdown-fill {
            height: 100%;
            background: var(--accent-cost);
            border-radius: 6px;
            transition: width 0.5s ease;
        }

        .breakdown-value {
            min-width: 80px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent-cost);
            text-align: right;
        }

        /* Verdict */
        .impact-verdict {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 10px;
            border-left: 4px solid var(--accent-success);
            transition: all 0.3s ease;
        }

        .impact-verdict.warning {
            border-left-color: var(--accent-warning);
        }

        .impact-verdict.danger {
            border-left-color: var(--accent-cost);
        }

        .verdict-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-success);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--bg-primary);
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .impact-verdict.warning .verdict-icon {
            background: var(--accent-warning);
        }

        .impact-verdict.danger .verdict-icon {
            background: var(--accent-cost);
        }

        .verdict-text h4 {
            margin: 0 0 0.25rem 0;
            color: var(--text-heading);
        }

        .verdict-text p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .verdict-reg {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: var(--accent-warning);
            font-style: italic;
        }

        /* SCREEN 9: Checklist & Close */
        .final-checklist {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item:hover {
            background: rgba(255, 255, 255, 0.02);
            margin: 0 -1rem;
            padding-left: 1rem;
            padding-right: 1rem;
            border-radius: 8px;
        }

        .checklist-item .checkbox {
            width: 28px;
            height: 28px;
            border: 2px solid var(--text-secondary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .checklist-item.checked .checkbox {
            background: var(--accent-success);
            border-color: var(--accent-success);
        }

        .checklist-item .checkbox::after {
            content: '‚úì';
            color: var(--bg-primary);
            font-weight: bold;
            opacity: 0;
            transform: scale(0);
            transition: all 0.2s ease;
        }

        .checklist-item.checked .checkbox::after {
            opacity: 1;
            transform: scale(1);
        }

        .checklist-item .content {
            flex: 1;
        }

        .checklist-item .title {
            color: var(--text-primary);
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .checklist-item .explanation {
            color: var(--text-secondary);
            font-size: 0.9rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .checklist-item.expanded .explanation {
            max-height: 100px;
            margin-top: 0.5rem;
        }

        /* SMR Callout */
        .smr-callout {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(0, 217, 255, 0.05));
            border: 1px solid var(--accent-good);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .smr-callout h4 {
            color: var(--accent-good);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .smr-callout ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .smr-callout li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            color: var(--text-secondary);
        }

        .smr-callout li::before {
            content: '‚Üí';
            position: absolute;
            left: 0;
            color: var(--accent-good);
        }

        /* Closing Statement */
        .closing-statement {
            text-align: center;
            padding: 3rem 2rem;
            background: var(--bg-secondary);
            border-radius: 16px;
            margin: 3rem 0;
        }

        .closing-statement p {
            font-size: 1.2rem;
            color: var(--text-primary);
            max-width: 700px;
            margin: 0 auto 2rem;
            font-style: italic;
        }

        .closing-statement .next-module {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .closing-statement .next-module p {
            font-size: 1rem;
            font-style: normal;
            margin-bottom: 0;
            color: var(--text-secondary);
        }

        /* Completion Screen */
        .completion-screen {
            text-align: center;
            padding: 4rem 2rem;
        }

        .completion-icon {
            width: 120px;
            height: 120px;
            background: var(--accent-success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            font-size: 3rem;
            color: var(--bg-primary);
            animation: completionPop 0.5s ease;
        }

        @keyframes completionPop {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .completion-screen h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .completion-screen p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Radiozone Showcase */
        .radiozone-showcase {
            margin: 2rem 0;
        }

        .radiozone-showcase .image-placeholder {
            min-height: 300px;
            padding: 1rem;
        }

        .radiozone-showcase .image-placeholder img {
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(255, 107, 107, 0.2);
        }

        /* Three Zones Visual */
        .zones-visual {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        @media (max-width: 768px) {
            .zones-visual {
                grid-template-columns: 1fr;
            }
        }

        .zone-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border-top: 4px solid var(--accent-good);
            transition: all 0.3s ease;
        }

        .zone-card:hover {
            transform: translateY(-4px);
        }

        .zone-card .zone-number {
            font-family: 'Roboto Mono', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-good);
            margin-bottom: 0.5rem;
        }

        .zone-card h4 {
            margin-bottom: 0.75rem;
        }

        .zone-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-buttons .btn-back {
            background: transparent;
            border: 2px solid var(--text-secondary);
            color: var(--text-secondary);
        }

        .nav-buttons .btn-back:hover {
            border-color: var(--text-primary);
            color: var(--text-primary);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .fixed-header {
                padding: 0 1rem;
            }

            .header-title {
                display: none;
            }

            .progress-track {
                width: 80px;
            }

            .section {
                padding: 3rem 1rem;
            }

            .money-amount {
                font-size: clamp(3rem, 15vw, 6rem);
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }

            .principles-grid {
                grid-template-columns: 1fr;
            }

            /* Regulatory callouts mobile */
            .regulatory-callout {
                flex-direction: column;
                padding: 1.25rem;
            }

            .regulatory-callout .reg-icon {
                font-size: 1.25rem;
            }

            .regulatory-callout .reg-content h4 {
                font-size: 1rem;
            }

            .reg-reference {
                font-size: 0.7rem;
                padding: 0.1rem 0.4rem;
            }

            /* Simulator mobile */
            .simulator-header {
                flex-direction: column;
                gap: 1.5rem;
                text-align: center;
            }

            .gauge-container {
                order: -1;
            }

            .gauge {
                width: 150px;
                height: 95px;
            }

            .decisions-grid {
                grid-template-columns: 1fr;
            }

            .decision-card {
                padding: 1.25rem;
            }

            .toggle-control {
                flex-direction: column;
                align-items: stretch;
                gap: 0.5rem;
            }

            .toggle-label {
                text-align: center;
                font-size: 0.75rem;
            }

            .toggle-switch {
                align-self: center;
            }

            .results-dashboard {
                padding: 1.25rem;
            }

            .results-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.75rem;
            }

            .result-card {
                padding: 0.75rem;
            }

            .result-number {
                font-size: 1.25rem;
            }

            .impact-verdict {
                flex-direction: column;
                text-align: center;
                gap: 0.75rem;
            }

            .verdict-icon {
                width: 40px;
                height: 40px;
                font-size: 1.25rem;
            }

            .verdict-reg {
                font-size: 0.8rem;
            }

            /* Hero image mobile */
            .simulator-hero {
                height: 150px;
            }

            .hero-overlay-text {
                padding: 1rem;
                gap: 0.75rem;
            }

            .hero-stat {
                font-size: 0.9rem;
            }

            /* Checklist mobile */
            .checklist-item .title {
                font-size: 0.95rem;
            }

            .checklist-item .title .reg-reference {
                display: block;
                margin-top: 0.25rem;
            }

            /* Breakdown bars mobile */
            .breakdown-bar {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.25rem;
            }

            .breakdown-label {
                min-width: auto;
            }

            .breakdown-track {
                width: 100%;
            }

            .breakdown-value {
                min-width: auto;
                align-self: flex-end;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .nav-buttons {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-buttons .btn-primary,
            .nav-buttons .btn-back {
                width: 100%;
                justify-content: center;
            }

            .cost-ticker {
                flex-direction: column;
                gap: 0.25rem;
            }

            .regulatory-callout .reg-content p {
                font-size: 0.85rem;
            }

            .gauge {
                width: 130px;
                height: 85px;
            }

            .gauge-value {
                font-size: 1.5rem;
            }
        }

        /* Touch-friendly enhancements */
        @media (hover: none) and (pointer: coarse) {
            .toggle-switch {
                width: 60px;
                height: 34px;
            }

            .toggle-slider:before {
                height: 26px;
                width: 26px;
                left: 4px;
                bottom: 4px;
            }

            input:checked + .toggle-slider:before {
                transform: translateX(26px);
            }

            .btn-primary, .btn-secondary {
                min-height: 48px;
                padding: 0.875rem 1.5rem;
            }

            .quiz-option {
                min-height: 48px;
            }

            .checklist-item {
                min-height: 60px;
            }

            .principle-card {
                min-height: 120px;
            }
        }

        /* Pulse animation for interactive elements */
        .pulse {
            animation: pulse 2s ease infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 var(--gold-glow); }
            50% { box-shadow: 0 0 0 15px transparent; }
        }

        /* Hide scrollbar but allow scroll */
        .nav-menu::-webkit-scrollbar {
            width: 6px;
        }

        .nav-menu::-webkit-scrollbar-track {
            background: transparent;
        }

        .nav-menu::-webkit-scrollbar-thumb {
            background: var(--bg-card);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header class="fixed-header">
        <img src="../00_images/Logo_white.png" alt="The Nuclear House" class="header-logo">
        <span class="header-title">Module 5.2: Design for Maintenance</span>
        <div class="header-progress">
            <div class="progress-track">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <span class="progress-text" id="progressText">0%</span>
        </div>
        <button class="menu-toggle" onclick="toggleMenu()" aria-label="Toggle navigation">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </header>

    <!-- Navigation Menu -->
    <nav class="nav-menu" id="navMenu">
        <h3>MODULE CONTENTS</h3>
        <a href="#" onclick="goToPage(1)" data-page="1" class="active">
            <span class="nav-icon">üí∞</span> The ¬£1 Million Day
        </a>
        <a href="#" onclick="goToPage(2)" data-page="2">
            <span class="nav-icon">üìä</span> The Outage Reality
        </a>
        <a href="#" onclick="goToPage(3)" data-page="3">
            <span class="nav-icon">üîß</span> Four Principles
        </a>
        <a href="#" onclick="goToPage(4)" data-page="4">
            <span class="nav-icon">üö™</span> Principle 1: Access
        </a>
        <a href="#" onclick="goToPage(5)" data-page="5">
            <span class="nav-icon">üìê</span> Principle 2: Clearances
        </a>
        <a href="#" onclick="goToPage(6)" data-page="6">
            <span class="nav-icon">üèóÔ∏è</span> Principle 3: Removal Paths
        </a>
        <a href="#" onclick="goToPage(7)" data-page="7">
            <span class="nav-icon">üì¶</span> Principle 4: Laydown
        </a>
        <a href="#" onclick="goToPage(8)" data-page="8">
            <span class="nav-icon">‚úñÔ∏è</span> The Multiplication Effect
        </a>
        <a href="#" onclick="goToPage(9)" data-page="9">
            <span class="nav-icon">‚úÖ</span> Designer's Checklist
        </a>
    </nav>

    <!-- PAGE 1: Opening Hook -->
    <div class="page active" id="page1">
        <div class="hook-screen">
            <div class="hook-bg"></div>
            <div class="money-amount" id="moneyReveal">¬£1,300,000</div>
            <div class="hook-text">
                <p id="hookText1">That's what a nuclear plant earns. <strong>Every single day</strong> it's operating.</p>
                <p id="hookText2">During an outage, it earns <span class="highlight">nothing</span>.<br>And it still costs <span class="highlight">¬£800,000 per day</span> to run.</p>
                <div class="cost-ticker" id="hookTicker" style="opacity: 0;">
                    <span class="label">Daily outage impact:</span>
                    <span class="value">-¬£2,100,000</span>
                </div>
                <p id="hookText3" class="impact">Your design decisions determine how long that outage lasts.</p>
                <p id="hookText4" class="regulatory-note">And they determine whether your design passes regulatory assessment.</p>
            </div>
            <button class="btn-primary pulse" onclick="goToPage(2)" id="hookBtn" style="opacity: 0;">
                See the Challenge <span>‚Üí</span>
            </button>
        </div>
    </div>

    <!-- PAGE 2: The Outage Reality -->
    <div class="page" id="page2">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">THE REALITY</span>
                <h2 class="section-title">Inside a Nuclear Outage</h2>
                <p class="section-intro">Every 18-24 months, the plant shuts down. What happens next is a precisely choreographed race against time and money.</p>

                <!-- Regulatory Callout -->
                <div class="regulatory-callout">
                    <div class="reg-icon">‚öñÔ∏è</div>
                    <div class="reg-content">
                        <h4>Licence Condition 28</h4>
                        <p>The licensee shall make and implement <strong>adequate arrangements</strong> for the regular and systematic examination, inspection, maintenance and testing of all plant which may affect safety.</p>
                        <p class="reg-implication">Your design decisions determine whether those arrangements are even physically possible.</p>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="value">25-35</span>
                        <span class="label">Days typical duration</span>
                    </div>
                    <div class="stat-card">
                        <span class="value">~9,000</span>
                        <span class="label">Work tasks per outage</span>
                    </div>
                    <div class="stat-card">
                        <span class="value">340</span>
                        <span class="label">Activities completed daily</span>
                    </div>
                    <div class="stat-card">
                        <span class="value">24/7</span>
                        <span class="label">Operations, thousands of workers</span>
                    </div>
                </div>

                <div class="timeline-visual">
                    <h4 style="margin-bottom: 0.5rem;">The Operating Cycle</h4>
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">Every minute of outage time costs money</p>
                    <div class="timeline-bar">
                        <div class="timeline-segment operation">
                            <span>ONLINE</span>
                        </div>
                        <div class="timeline-segment outage">
                            <span>‚ö°</span>
                        </div>
                        <div class="timeline-segment operation-end">
                            <span>ONLINE</span>
                        </div>
                    </div>
                    <div class="timeline-labels">
                        <div class="timeline-label">
                            <div class="title">18 Months Generating</div>
                            <div class="detail">Revenue: ¬£1.3M/day</div>
                        </div>
                        <div class="timeline-label">
                            <div class="title" style="color: var(--accent-cost);">Outage Window</div>
                            <div class="detail">Cost: ¬£2.1M/day lost</div>
                        </div>
                        <div class="timeline-label">
                            <div class="title">Back to Generation</div>
                            <div class="detail">Every hour matters</div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card cost">
                        <span class="value">¬£800K+</span>
                        <span class="label">Direct daily costs</span>
                    </div>
                    <div class="stat-card cost">
                        <span class="value">¬£1.5M</span>
                        <span class="label">Lost revenue per day</span>
                    </div>
                    <div class="stat-card cost">
                        <span class="value">¬£35-50M</span>
                        <span class="label">Total 35-day outage cost</span>
                    </div>
                </div>

                <div class="quote-box">
                    <p>"It's like a 32-36 day Indy pit stop, running 24/7. Every hour matters."</p>
                    <div class="attribution">‚Äî Industry description of nuclear outages</div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(1)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(3)">Continue ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 3: Four Principles Introduction -->
    <div class="page" id="page3">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">THE FRAMEWORK</span>
                <h2 class="section-title">Four Principles of Maintainability</h2>
                <p class="section-intro">Maintainability isn't added later ‚Äî it's designed in from day one. Four principles determine whether your component takes hours or days to maintain.</p>

                <div class="principles-grid">
                    <div class="principle-card" onclick="goToPage(4)">
                        <span class="number">01</span>
                        <div class="icon">üö™</div>
                        <h3>ACCESS</h3>
                        <p class="subtitle">Can workers physically reach it?</p>
                    </div>
                    <div class="principle-card" onclick="goToPage(5)">
                        <span class="number">02</span>
                        <div class="icon">üìê</div>
                        <h3>CLEARANCES</h3>
                        <p class="subtitle">Is there space to work?</p>
                    </div>
                    <div class="principle-card" onclick="goToPage(6)">
                        <span class="number">03</span>
                        <div class="icon">üèóÔ∏è</div>
                        <h3>REMOVAL PATHS</h3>
                        <p class="subtitle">Can it come out?</p>
                    </div>
                    <div class="principle-card" onclick="goToPage(7)">
                        <span class="number">04</span>
                        <div class="icon">üì¶</div>
                        <h3>LAYDOWN</h3>
                        <p class="subtitle">Where does it go?</p>
                    </div>
                </div>

                <div class="key-concept">
                    <h4>üí° KEY INSIGHT</h4>
                    <p>Click any principle above to explore it in detail, or continue through the module sequentially.</p>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(2)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(4)">Explore Each Principle ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 4: Principle 1 - Access -->
    <div class="page" id="page4">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">PRINCIPLE 1</span>
                <h2 class="section-title">ACCESS: Can workers physically reach it?</h2>
                <p class="section-intro">The most common maintainability failure: equipment that's technically accessible but practically unreachable.</p>

                <div class="comparison-container">
                    <div class="comparison-panel good">
                        <div class="panel-header">
                            <span class="badge good">‚úì GOOD DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_ACCESS_GOOD">
                            <img src="images/IMAGE_ACCESS_GOOD.png" alt="Good access design with permanent platform" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">üè≠</span>
                            <span class="placeholder-text" style="display: none;">Permanent platform with clear approach, properly sized hatch, service connections nearby</span>
                        </div>
                        <ul class="checklist good">
                            <li>Permanent access platforms at key maintenance locations</li>
                            <li>Hatches sized for personnel AND equipment</li>
                            <li>Clear routes from plant entrances</li>
                            <li>Stairways (not just ladders) for frequently accessed areas</li>
                            <li>Service provisions: power, air, lighting, data connections</li>
                        </ul>
                    </div>

                    <div class="comparison-panel bad">
                        <div class="panel-header">
                            <span class="badge bad">‚úó POOR DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_ACCESS_BAD">
                            <img src="images/IMAGE_ACCESS_BAD.png" alt="Poor access design requiring scaffolding" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">‚ö†Ô∏è</span>
                            <span class="placeholder-text" style="display: none;">Access blocked by adjacent equipment, requires scaffold build every time</span>
                        </div>
                        <ul class="checklist bad">
                            <li>"You can reach it, but only after removing three other components"</li>
                            <li>Requires temporary scaffolding every maintenance visit</li>
                            <li>Manholes too small for workers in full PPE</li>
                            <li>Routes requiring multiple floor level changes with equipment</li>
                        </ul>
                    </div>
                </div>

                <!-- Regulatory Reference -->
                <div class="regulatory-callout compact">
                    <div class="reg-icon">üìã</div>
                    <div class="reg-content">
                        <h4>ONR Safety Assessment Principles</h4>
                        <p><span class="reg-reference">SAP ELO.1</span> The layout should provide for safe and efficient operation, inspection, maintenance and replacement of structures, systems and components.</p>
                        <p><span class="reg-reference">SAP EMT.1</span> SSCs should be designed and located so they can be appropriately maintained, inspected and tested throughout their operational life.</p>
                    </div>
                </div>

                <div class="case-study">
                    <h4>AP1000 DESIGN APPROACH</h4>
                    <p>"Access platforms and lifting devices are provided at key locations, as are service provisions such as electrical power, demineralised water, breathing and service air, ventilation and lighting."</p>
                </div>

                <div class="quiz-inline" id="quiz1">
                    <h4>Test Your Understanding</h4>
                    <p class="question">A valve requires maintenance every 2 years. The current design means erecting scaffolding takes 4 hours each time. Over a 60-year plant life, how many extra hours is that?</p>
                    <div class="quiz-options">
                        <label class="quiz-option" data-answer="A">
                            <input type="radio" name="quiz1" value="A">
                            <span class="radio"></span>
                            <span>A) 60 hours</span>
                        </label>
                        <label class="quiz-option" data-answer="B">
                            <input type="radio" name="quiz1" value="B">
                            <span class="radio"></span>
                            <span>B) 120 hours</span>
                        </label>
                        <label class="quiz-option" data-answer="C">
                            <input type="radio" name="quiz1" value="C">
                            <span class="radio"></span>
                            <span>C) 240 hours</span>
                        </label>
                        <label class="quiz-option" data-answer="D">
                            <input type="radio" name="quiz1" value="D">
                            <span class="radio"></span>
                            <span>D) It doesn't matter ‚Äî 4 hours is nothing</span>
                        </label>
                    </div>
                    <button class="btn-secondary" onclick="checkQuiz1()" style="margin-top: 1rem;">Check Answer</button>
                    <div class="quiz-feedback" id="quiz1Feedback"></div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(3)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(5)">Next Principle ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 5: Principle 2 - Clearances -->
    <div class="page" id="page5">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">PRINCIPLE 2</span>
                <h2 class="section-title">CLEARANCES: Is there space to work?</h2>
                <p class="section-intro">Getting there isn't enough. Workers need room to manoeuvre, swing tools, and work safely.</p>

                <div class="key-concept">
                    <h4>THE 360¬∞ RULE</h4>
                    <p>Can the component be accessed from multiple sides? Or is it pushed against a wall with only one approach? Multi-sided access dramatically speeds maintenance.</p>
                </div>

                <div class="comparison-container">
                    <div class="comparison-panel good">
                        <div class="panel-header">
                            <span class="badge good">‚úì GOOD DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_CLEARANCE_GOOD">
                            <img src="images/IMAGE_CLEARANCE_GOOD.png" alt="360-degree access around pump" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">‚úì</span>
                            <span class="placeholder-text" style="display: none;">360¬∞ access around pump ‚Äî worker can approach from any side, space for tools and assistant</span>
                        </div>
                        <ul class="checklist good">
                            <li>Space around components for tool swing and worker positioning</li>
                            <li>Adequate headroom for standing work (not crawling)</li>
                            <li>Clearance for lifting equipment (chain hoists, jib cranes)</li>
                            <li>Space for two workers when tasks require assistance</li>
                            <li>Clearance for full PPE (respiratory protection adds bulk)</li>
                        </ul>
                    </div>

                    <div class="comparison-panel bad">
                        <div class="panel-header">
                            <span class="badge bad">‚úó POOR DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_CLEARANCE_BAD">
                            <img src="images/IMAGE_CLEARANCE_BAD.png" alt="Valve pushed against wall" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">‚ö†Ô∏è</span>
                            <span class="placeholder-text" style="display: none;">Valve pushed against wall ‚Äî single-sided access only, no room for second worker</span>
                        </div>
                        <ul class="checklist bad">
                            <li>Component mounted directly against walls or structures</li>
                            <li>No space to fully extend arms or use standard tools</li>
                            <li>Workers forced into awkward, unsafe positions</li>
                            <li>Assistant worker cannot provide direct help</li>
                        </ul>
                    </div>
                </div>

                <div class="case-study">
                    <h4>VALVE DESIGN CHOICE ‚Äî A SPECIFICATION-STAGE DECISION</h4>
                    <p><strong>In-line maintainable valves</strong> (top-entry design) can be serviced without removing from the line.<br><br>
                    <strong>Non in-line maintainable valves</strong> require pipe cutting, removal, bench work, and reinstallation.<br><br>
                    This single choice determines <em>hours vs days</em> of maintenance time.</p>
                </div>

                <!-- Regulatory Reference -->
                <div class="regulatory-callout compact">
                    <div class="reg-icon">üë§</div>
                    <div class="reg-content">
                        <h4>Human Factors Requirements</h4>
                        <p><span class="reg-reference">SAP EHF.5</span> Task analysis should be used to verify the design supports the reliable performance of human actions identified as important to safety.</p>
                        <p class="reg-implication">If your design forces technicians into awkward postures, blind fastening, or single-handed operations, you've created human factors issues that must be addressed in the safety case.</p>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(4)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(6)">Next Principle ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 6: Principle 3 - Removal Paths -->
    <div class="page" id="page6">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">PRINCIPLE 3</span>
                <h2 class="section-title">REMOVAL PATHS: Can it actually come out?</h2>
                <p class="section-intro">Every replaceable component needs a defined removal path. The path must accommodate the component, rigging equipment, and all interferences along the way.</p>

                <div class="key-concept">
                    <h4>REMOVAL PATH REQUIREMENTS</h4>
                    <p>The path must accommodate: the component dimensions, any rigging equipment (slings, spreader bars), the component in its 'removal configuration' (may differ from installed), and all interferences along the path.</p>
                </div>

                <div class="comparison-container">
                    <div class="comparison-panel good">
                        <div class="panel-header">
                            <span class="badge good">‚úì GOOD DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_REMOVAL_GOOD">
                            <img src="images/IMAGE_REMOVAL_GOOD.png" alt="Clear vertical lift path" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">üèóÔ∏è</span>
                            <span class="placeholder-text" style="display: none;">Clear vertical lift path with polar crane coverage, no obstructions, defined laydown position</span>
                        </div>
                        <ul class="checklist good">
                            <li>Polar crane or overhead crane has coverage</li>
                            <li>Clear vertical lift path verified</li>
                            <li>Maximum hook height documented</li>
                            <li>Crane travel path unobstructed</li>
                            <li>Component can be lifted clear of surroundings</li>
                        </ul>
                    </div>

                    <div class="comparison-panel bad">
                        <div class="panel-header">
                            <span class="badge bad">‚úó POOR DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_REMOVAL_BAD">
                            <img src="images/IMAGE_REMOVAL_BAD.png" alt="Obstructed removal path" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">‚õî</span>
                            <span class="placeholder-text" style="display: none;">Obstructed removal path ‚Äî pipe run blocks vertical lift, requires temporary removals</span>
                        </div>
                        <ul class="checklist bad">
                            <li>Vertical lift blocked by pipe runs or cable trays</li>
                            <li>Other equipment positioned too close</li>
                            <li>No crane coverage at this location</li>
                            <li>Temporary removals required before main lift</li>
                        </ul>
                    </div>
                </div>

                <div class="warning-box">
                    <h4>‚ö†Ô∏è REAL OUTAGE CHALLENGE</h4>
                    <p><strong>Condenser Valve Replacement (US Nuclear Plant)</strong><br><br>
                    <strong>Component:</strong> 9 ft diameter √ó 12,000 lb valve in a pit with multiple obstructions<br>
                    <strong>Challenge:</strong> No clear removal path existed. Standard rigging couldn't fit.<br>
                    <strong>Solution:</strong> Specialist engineers designed a custom travelling low-headroom cantilever system with 3 coordinated hoists<br><br>
                    <strong>Lesson:</strong> This complexity ‚Äî and cost ‚Äî could have been avoided with better original design.</p>
                </div>

                <!-- Regulatory Reference -->
                <div class="regulatory-callout compact">
                    <div class="reg-icon">üåê</div>
                    <div class="reg-content">
                        <h4>International Standard</h4>
                        <p><span class="reg-reference">IAEA SSR-2/1 Rev.1</span> Requirement 30 states structures, systems and components shall be designed and located to facilitate inspection, testing, maintenance and replacement.</p>
                        <p class="reg-implication">The UK's GDA process benchmarks against IAEA standards. Designs that ignore removal paths will face assessment findings.</p>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(5)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(7)">Next Principle ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 7: Principle 4 - Laydown -->
    <div class="page" id="page7">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">PRINCIPLE 4</span>
                <h2 class="section-title">LAYDOWN: Where does the removed component go?</h2>
                <p class="section-intro">Maintenance doesn't happen in isolation. You need space to stage, place, prepare, and store.</p>

                <div class="comparison-container">
                    <div class="comparison-panel good">
                        <div class="panel-header">
                            <span class="badge good">‚úì GOOD DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_LAYDOWN_GOOD">
                            <img src="images/IMAGE_LAYDOWN_GOOD.png" alt="Designated laydown area" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">üì¶</span>
                            <span class="placeholder-text" style="display: none;">Designated laydown area adjacent to equipment, floor load-rated, service connections available</span>
                        </div>
                    </div>

                    <div class="comparison-panel bad">
                        <div class="panel-header">
                            <span class="badge bad">‚úó POOR DESIGN</span>
                        </div>
                        <div class="image-placeholder" data-image="IMAGE_LAYDOWN_BAD">
                            <img src="images/IMAGE_LAYDOWN_BAD.png" alt="Removed pump blocking walkway" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                            <span class="placeholder-icon" style="display: none;">üö´</span>
                            <span class="placeholder-text" style="display: none;">Removed pump motor blocking walkway ‚Äî nowhere designated to put it, creating safety hazard</span>
                        </div>
                    </div>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">The Three Zones of Laydown</h3>
                <div class="zones-visual">
                    <div class="zone-card">
                        <div class="zone-number">1</div>
                        <h4>Near-Component</h4>
                        <p>Floor space adjacent to equipment for immediate staging. Within crane reach. Floor must be load-rated.</p>
                    </div>
                    <div class="zone-card">
                        <div class="zone-number">2</div>
                        <h4>Intermediate Staging</h4>
                        <p>Where components go after removal. Path to decontamination if needed. Controlled access for contaminated items.</p>
                    </div>
                    <div class="zone-card">
                        <div class="zone-number">3</div>
                        <h4>Laydown Yard</h4>
                        <p>Larger components, long-term staging. Prepared surface for heavy loads. Weather protection if needed.</p>
                    </div>
                </div>

                <div class="radiozone-showcase">
                    <div class="image-placeholder" data-image="IMAGE_RADIOZONE" style="border: 2px solid var(--accent-cost); background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.02));">
                        <img src="images/IMAGE_RADIOZONE.png" alt="Controlled radiological zone with contaminated component staging" style="max-height: 350px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.parentElement.querySelector('.placeholder-text').style.display='block';">
                        <span class="placeholder-icon" style="display: none;">‚ò¢Ô∏è</span>
                        <span class="placeholder-text" style="display: none;">Controlled radiological zone ‚Äî barriers, radiation signage, PPE stations, and designated contaminated component staging</span>
                    </div>
                    <p class="image-caption" style="text-align: center; color: var(--text-secondary); font-size: 0.9rem; margin-top: 1rem; font-style: italic;">A controlled radiological zone: barriers define the contaminated area, radiation monitoring in progress, PPE ready for workers entering the zone</p>
                </div>

                <div class="warning-box">
                    <h4>‚ò¢Ô∏è THE CONTAMINATION FACTOR</h4>
                    <p>Components from the primary system may be radioactively contaminated. Laydown areas may need to be in controlled radiological zones. Decontamination may be required before components leave certain areas. These constraints affect WHERE laydown can be located ‚Äî it's not just "any empty space."</p>
                </div>

                <!-- Regulatory Reference -->
                <div class="regulatory-callout compact">
                    <div class="reg-icon">‚ò¢Ô∏è</div>
                    <div class="reg-content">
                        <h4>ALARP Demonstration Required</h4>
                        <p><span class="reg-reference">SAP RP.6</span> Doses should be as low as reasonably practicable (ALARP).</p>
                        <p class="reg-implication">Laydown areas in high-dose zones extend worker exposure times. In ALARP assessments, reviewers will ask: "Could this have been designed with lower-dose laydown locations?" Poor laydown design doesn't just cost time ‚Äî it increases collective dose and makes your ALARP case harder to defend.</p>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(6)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(8)">See the Multiplication Effect ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 8: The Multiplication Effect -->
    <div class="page" id="page8">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">THE IMPACT</span>
                <h2 class="section-title">Small Decisions Multiply Across Thousands of Tasks</h2>
                <p class="section-intro">You're the designer. Make your decisions below and watch how they compound across a 60-year plant life.</p>

                <!-- Hero Image -->
                <div class="simulator-hero">
                    <img src="images/IMAGE_OUTAGE_HERO.png" alt="Intense maintenance activity during nuclear plant outage" onerror="this.parentElement.classList.add('no-image');">
                    <div class="hero-overlay-text">
                        <span class="hero-stat">9,000 tasks</span>
                        <span class="hero-divider">‚Ä¢</span>
                        <span class="hero-stat">30 days</span>
                        <span class="hero-divider">‚Ä¢</span>
                        <span class="hero-stat">¬£2.1M/day at stake</span>
                    </div>
                </div>

                <div class="simulator-container">
                    <div class="simulator-header">
                        <div class="simulator-title">
                            <span class="icon">‚öôÔ∏è</span>
                            <h3>Design Decision Simulator</h3>
                        </div>
                        
                        <!-- Gauge Score -->
                        <div class="gauge-container" id="gaugeContainer">
                            <svg class="gauge" viewBox="0 0 200 120">
                                <defs>
                                    <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#ff6b6b"/>
                                        <stop offset="50%" style="stop-color:#f0a500"/>
                                        <stop offset="100%" style="stop-color:#4ecca3"/>
                                    </linearGradient>
                                </defs>
                                <!-- Background arc -->
                                <path class="gauge-bg" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="#1a1a2e" stroke-width="16" stroke-linecap="round"/>
                                <!-- Coloured arc -->
                                <path class="gauge-fill" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="url(#gaugeGradient)" stroke-width="16" stroke-linecap="round" stroke-dasharray="251.2" stroke-dashoffset="0"/>
                                <!-- Needle -->
                                <g class="gauge-needle" id="gaugeNeedle">
                                    <line x1="100" y1="100" x2="100" y2="30" stroke="#ffffff" stroke-width="3" stroke-linecap="round"/>
                                    <circle cx="100" cy="100" r="8" fill="#ffffff"/>
                                </g>
                            </svg>
                            <div class="gauge-labels">
                                <span class="gauge-label-bad">Poor</span>
                                <span class="gauge-label-good">Excellent</span>
                            </div>
                            <div class="gauge-value" id="gaugeValue">100%</div>
                            <div class="gauge-title">Maintainability Score</div>
                        </div>
                    </div>

                    <div class="decisions-grid">
                        <!-- Decision 1: Valves -->
                        <div class="decision-card" data-component="valves">
                            <div class="card-bg-icon">üîß</div>
                            <div class="decision-header">
                                <div class="decision-icon">üîß</div>
                                <div class="decision-info">
                                    <h4>Valves</h4>
                                    <p class="decision-penalty">Poor design: +45 min per valve</p>
                                </div>
                            </div>
                            <div class="decision-controls">
                                <div class="quantity-control">
                                    <label>Quantity in plant:</label>
                                    <div class="quantity-slider">
                                        <input type="range" class="slider-input" id="valvesQty" min="200" max="2000" value="800" step="100">
                                        <span class="qty-value" id="valvesQtyValue">800</span>
                                    </div>
                                </div>
                                <div class="toggle-control">
                                    <span class="toggle-label bad">Maintenance not considered</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="valvesToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="toggle-label good">Designed for maintenance</span>
                                </div>
                            </div>
                            <div class="decision-impact">
                                <div class="impact-row">
                                    <span class="impact-label">Time impact:</span>
                                    <span class="impact-value" id="valvesImpact">0 hours</span>
                                </div>
                                <div class="impact-row cost-row">
                                    <span class="impact-label">Cost impact:</span>
                                    <span class="impact-cost" id="valvesCost">¬£0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Decision 2: Pumps -->
                        <div class="decision-card" data-component="pumps">
                            <div class="card-bg-icon">‚öôÔ∏è</div>
                            <div class="decision-header">
                                <div class="decision-icon">‚öôÔ∏è</div>
                                <div class="decision-info">
                                    <h4>Pumps</h4>
                                    <p class="decision-penalty">Poor design: +2 hours per pump</p>
                                </div>
                            </div>
                            <div class="decision-controls">
                                <div class="quantity-control">
                                    <label>Quantity in plant:</label>
                                    <div class="quantity-slider">
                                        <input type="range" class="slider-input" id="pumpsQty" min="50" max="300" value="120" step="10">
                                        <span class="qty-value" id="pumpsQtyValue">120</span>
                                    </div>
                                </div>
                                <div class="toggle-control">
                                    <span class="toggle-label bad">Maintenance not considered</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="pumpsToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="toggle-label good">Designed for maintenance</span>
                                </div>
                            </div>
                            <div class="decision-impact">
                                <div class="impact-row">
                                    <span class="impact-label">Time impact:</span>
                                    <span class="impact-value" id="pumpsImpact">0 hours</span>
                                </div>
                                <div class="impact-row cost-row">
                                    <span class="impact-label">Cost impact:</span>
                                    <span class="impact-cost" id="pumpsCost">¬£0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Decision 3: Heat Exchangers -->
                        <div class="decision-card" data-component="heatex">
                            <div class="card-bg-icon">üî•</div>
                            <div class="decision-header">
                                <div class="decision-icon">üî•</div>
                                <div class="decision-info">
                                    <h4>Heat Exchangers</h4>
                                    <p class="decision-penalty">Poor design: +8 hours each</p>
                                </div>
                            </div>
                            <div class="decision-controls">
                                <div class="quantity-control">
                                    <label>Quantity in plant:</label>
                                    <div class="quantity-slider">
                                        <input type="range" class="slider-input" id="heatexQty" min="10" max="50" value="25" step="5">
                                        <span class="qty-value" id="heatexQtyValue">25</span>
                                    </div>
                                </div>
                                <div class="toggle-control">
                                    <span class="toggle-label bad">Maintenance not considered</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="heatexToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="toggle-label good">Designed for maintenance</span>
                                </div>
                            </div>
                            <div class="decision-impact">
                                <div class="impact-row">
                                    <span class="impact-label">Time impact:</span>
                                    <span class="impact-value" id="heatexImpact">0 hours</span>
                                </div>
                                <div class="impact-row cost-row">
                                    <span class="impact-label">Cost impact:</span>
                                    <span class="impact-cost" id="heatexCost">¬£0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Decision 4: Electrical Panels -->
                        <div class="decision-card" data-component="electrical">
                            <div class="card-bg-icon">‚ö°</div>
                            <div class="decision-header">
                                <div class="decision-icon">‚ö°</div>
                                <div class="decision-info">
                                    <h4>Electrical Panels</h4>
                                    <p class="decision-penalty">Poor design: +4 hours each</p>
                                </div>
                            </div>
                            <div class="decision-controls">
                                <div class="quantity-control">
                                    <label>Quantity in plant:</label>
                                    <div class="quantity-slider">
                                        <input type="range" class="slider-input" id="electricalQty" min="50" max="200" value="100" step="10">
                                        <span class="qty-value" id="electricalQtyValue">100</span>
                                    </div>
                                </div>
                                <div class="toggle-control">
                                    <span class="toggle-label bad">Maintenance not considered</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="electricalToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="toggle-label good">Designed for maintenance</span>
                                </div>
                            </div>
                            <div class="decision-impact">
                                <div class="impact-row">
                                    <span class="impact-label">Time impact:</span>
                                    <span class="impact-value" id="electricalImpact">0 hours</span>
                                </div>
                                <div class="impact-row cost-row">
                                    <span class="impact-label">Cost impact:</span>
                                    <span class="impact-cost" id="electricalCost">¬£0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Decision 5: Instrumentation -->
                        <div class="decision-card" data-component="instruments">
                            <div class="card-bg-icon">üìä</div>
                            <div class="decision-header">
                                <div class="decision-icon">üìä</div>
                                <div class="decision-info">
                                    <h4>Instrumentation</h4>
                                    <p class="decision-penalty">Poor design: +15 min each</p>
                                </div>
                            </div>
                            <div class="decision-controls">
                                <div class="quantity-control">
                                    <label>Quantity in plant:</label>
                                    <div class="quantity-slider">
                                        <input type="range" class="slider-input" id="instrumentsQty" min="500" max="3000" value="1500" step="100">
                                        <span class="qty-value" id="instrumentsQtyValue">1,500</span>
                                    </div>
                                </div>
                                <div class="toggle-control">
                                    <span class="toggle-label bad">Maintenance not considered</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="instrumentsToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="toggle-label good">Designed for maintenance</span>
                                </div>
                            </div>
                            <div class="decision-impact">
                                <div class="impact-row">
                                    <span class="impact-label">Time impact:</span>
                                    <span class="impact-value" id="instrumentsImpact">0 hours</span>
                                </div>
                                <div class="impact-row cost-row">
                                    <span class="impact-label">Cost impact:</span>
                                    <span class="impact-cost" id="instrumentsCost">¬£0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Decision 6: Large Components -->
                        <div class="decision-card" data-component="large">
                            <div class="card-bg-icon">üèóÔ∏è</div>
                            <div class="decision-header">
                                <div class="decision-icon">üèóÔ∏è</div>
                                <div class="decision-info">
                                    <h4>Large Components</h4>
                                    <p class="decision-penalty">Poor design: +16 hours each</p>
                                </div>
                            </div>
                            <div class="decision-controls">
                                <div class="quantity-control">
                                    <label>Quantity in plant:</label>
                                    <div class="quantity-slider">
                                        <input type="range" class="slider-input" id="largeQty" min="5" max="30" value="15" step="1">
                                        <span class="qty-value" id="largeQtyValue">15</span>
                                    </div>
                                </div>
                                <div class="toggle-control">
                                    <span class="toggle-label bad">Maintenance not considered</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="largeToggle" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="toggle-label good">Designed for maintenance</span>
                                </div>
                            </div>
                            <div class="decision-impact">
                                <div class="impact-row">
                                    <span class="impact-label">Time impact:</span>
                                    <span class="impact-value" id="largeImpact">0 hours</span>
                                </div>
                                <div class="impact-row cost-row">
                                    <span class="impact-label">Cost impact:</span>
                                    <span class="impact-cost" id="largeCost">¬£0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Results Dashboard -->
                    <div class="results-dashboard">
                        <div class="dashboard-header">
                            <h3>üìä Your Design Impact</h3>
                            <button class="btn-secondary" onclick="resetSimulator()">Reset All Decisions</button>
                        </div>
                        
                        <div class="results-grid">
                            <div class="result-card">
                                <div class="result-icon">‚è±Ô∏è</div>
                                <div class="result-data">
                                    <span class="result-number" id="totalHours">0</span>
                                    <span class="result-unit">extra hours per outage</span>
                                </div>
                            </div>
                            <div class="result-card">
                                <div class="result-icon">üìÖ</div>
                                <div class="result-data">
                                    <span class="result-number" id="totalDays">0</span>
                                    <span class="result-unit">extra days per outage</span>
                                </div>
                            </div>
                            <div class="result-card highlight">
                                <div class="result-icon">üí∑</div>
                                <div class="result-data">
                                    <span class="result-number" id="costPerOutage">¬£0</span>
                                    <span class="result-unit">cost per outage</span>
                                </div>
                            </div>
                            <div class="result-card major">
                                <div class="result-icon">üè≠</div>
                                <div class="result-data">
                                    <span class="result-number" id="lifetimeCost">¬£0</span>
                                    <span class="result-unit">60-year lifetime cost</span>
                                </div>
                            </div>
                        </div>

                        <div class="impact-breakdown" id="impactBreakdown">
                            <h4>Breakdown by Component</h4>
                            <div class="breakdown-bars" id="breakdownBars">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>

                        <div class="impact-verdict" id="impactVerdict">
                            <div class="verdict-icon" id="verdictIcon">‚úì</div>
                            <div class="verdict-text">
                                <h4 id="verdictTitle">Excellent Design</h4>
                                <p id="verdictMessage">All components designed with maintenance in mind. The operations team will thank you.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="key-concept" style="margin-top: 2rem;">
                    <h4>üí° THE LESSON</h4>
                    <p>Toggle just a few switches to "Maintenance not considered" and watch the 60-year cost climb into the hundreds of millions. These aren't hypothetical numbers ‚Äî they're the real consequence of design decisions made in offices, years before the first outage begins.</p>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(7)">‚Üê Back</button>
                    <button class="btn-primary" onclick="goToPage(9)">Designer's Checklist ‚Üí</button>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE 9: Designer's Checklist & Close -->
    <div class="page" id="page9">
        <section class="section">
            <div class="section-container">
                <span class="section-tag">YOUR TOOLKIT</span>
                <h2 class="section-title">Your Maintainability Checklist</h2>
                <p class="section-intro">Click each item to reveal the explanation and mark it as understood.</p>

                <div class="final-checklist" id="designerChecklist">
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Can a worker physically reach the component in full PPE? <span class="reg-reference">SAP ELO.1</span></div>
                            <div class="explanation">Consider anti-contamination suits, respiratory protection, and tool belts. These add bulk and restrict movement.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Is there clearance for tools and equipment? <span class="reg-reference">SAP EHF.5</span></div>
                            <div class="explanation">Include chain hoists, jib cranes, torque wrenches, and space for two workers when tasks require assistance. Human factors assessment requires adequate workspace.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Is the removal path defined and unobstructed? <span class="reg-reference">IAEA SSR-2/1</span></div>
                            <div class="explanation">Verify crane coverage, hook height, travel path, and ensure no temporary removals are required. International standards require design to facilitate maintenance and replacement.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Is there laydown space within practical distance? <span class="reg-reference">SAP RP.6</span></div>
                            <div class="explanation">Consider floor load ratings, crane reach, contamination control, and path to decontamination facilities. Laydown location affects worker dose ‚Äî ALARP implications.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Does the overhead crane cover this location? <span class="reg-reference">SAP EMT.1</span></div>
                            <div class="explanation">Polar cranes, bridge cranes, and jib cranes each have specific coverage areas. Verify yours. Equipment must be designed and located so it can be maintained.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Can routine maintenance be done without removal? <span class="reg-reference">SAP EMT.3</span></div>
                            <div class="explanation">In-line maintainable designs (e.g., top-entry valves) save days compared to removal-required alternatives. SSCs should be capable of being maintained, inspected and tested while in place.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Are fasteners and connections standardised? <span class="reg-reference">LC28</span></div>
                            <div class="explanation">Non-standard fasteners mean tool changes, procurement delays, and documentation overhead ‚Äî thousands of times. Affects your LC28 maintenance arrangements.</div>
                        </div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checkbox"></div>
                        <div class="content">
                            <div class="title">Have maintenance durations been estimated and challenged? <span class="reg-reference">LC15</span></div>
                            <div class="explanation">Don't accept "about a day" ‚Äî demand task breakdowns and identify time-consuming steps that could be designed out. Periodic Safety Reviews will assess maintenance performance.</div>
                        </div>
                    </div>
                </div>

                <!-- Regulatory Summary -->
                <div class="regulatory-callout">
                    <div class="reg-icon">üìö</div>
                    <div class="reg-content">
                        <h4>Regulatory Framework Summary</h4>
                        <p>The maintainability principles in this module map to specific regulatory requirements:</p>
                        <p style="margin-top: 0.75rem;">
                            <span class="reg-reference">LC28</span> Examination, Inspection, Maintenance & Testing<br>
                            <span class="reg-reference">SAP EMT</span> Design for maintenance, inspection & testing<br>
                            <span class="reg-reference">SAP ELO</span> Layout for safe and efficient access<br>
                            <span class="reg-reference">SAP EHF</span> Human factors in task performance<br>
                            <span class="reg-reference">SAP RP.6</span> ALARP for radiation protection<br>
                            <span class="reg-reference">IAEA SSR-2/1</span> International design requirements
                        </p>
                        <p class="reg-implication">Good maintainability design isn't just efficient ‚Äî it's required for regulatory approval.</p>
                    </div>
                </div>

                <div class="smr-callout">
                    <h4>‚öõÔ∏è SMR-SPECIFIC CONSIDERATION</h4>
                    <p><strong>The Compact Challenge:</strong> SMR designs are more compact than traditional plants ‚Äî higher equipment density, constrained access routes, laydown space at a premium.</p>
                    <ul>
                        <li>Fewer active components (passive safety systems)</li>
                        <li>Maintenance-free designs where possible (canned motor pumps)</li>
                        <li>Modular replacement strategies (swap-out and refurbish offline)</li>
                        <li>Integrated maintenance planning from earliest design stage</li>
                    </ul>
                </div>

                <div class="closing-statement">
                    <p>"Every design decision you make will be tested thousands of times over 60+ years of operation. Design as if you'll be the one doing the maintenance at 2 AM during an outage ‚Äî because someone will be."</p>
                    <div class="next-module">
                        <p><strong>Next:</strong> You've seen how design affects maintenance speed. But maintenance isn't the only activity during outages ‚Äî inspections are equally critical. In the next module, we'll explore how to design for 60 years of in-service inspection...</p>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-primary btn-back" onclick="goToPage(8)">‚Üê Back</button>
                    <button class="btn-primary" onclick="completeModule()">Complete Module ‚úì</button>
                </div>
            </div>
        </section>

        <!-- Completion Screen (initially hidden) -->
        <div class="completion-screen" id="completionScreen" style="display: none;">
            <div class="completion-icon">‚úì</div>
            <h2>Module Complete</h2>
            <p>You've completed Module 5.2: Design for Maintenance. You now understand the four principles that determine whether maintenance takes hours or days, and how your design decisions multiply across thousands of tasks over a 60-year plant life.</p>
            <button class="btn-primary" onclick="restartModule()" style="margin-top: 2rem;">Review Module</button>
        </div>
    </div>

    <script>
        // ==================== NAVIGATION ====================
        let currentPage = 1;
        const totalPages = 9;
        let visitedPages = new Set([1]);

        function goToPage(pageNum) {
            if (pageNum < 1 || pageNum > totalPages) return;

            // Hide all pages
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            
            // Show target page
            document.getElementById(`page${pageNum}`).classList.add('active');
            
            // Update current page
            currentPage = pageNum;
            visitedPages.add(pageNum);
            
            // Update progress
            updateProgress();
            
            // Update nav menu
            updateNavMenu();
            
            // Close mobile menu
            document.getElementById('navMenu').classList.remove('open');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Trigger page-specific animations
            if (pageNum === 1) {
                triggerHookAnimations();
            }
        }

        function updateProgress() {
            const progress = Math.round((visitedPages.size / totalPages) * 100);
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = `${progress}%`;
        }

        function updateNavMenu() {
            document.querySelectorAll('.nav-menu a').forEach(link => {
                const page = parseInt(link.dataset.page);
                link.classList.remove('active', 'completed');
                if (page === currentPage) {
                    link.classList.add('active');
                } else if (visitedPages.has(page)) {
                    link.classList.add('completed');
                }
            });
        }

        function toggleMenu() {
            document.getElementById('navMenu').classList.toggle('open');
        }

        // ==================== PAGE 1: HOOK ANIMATIONS ====================
        function triggerHookAnimations() {
            const texts = ['hookText1', 'hookText2', 'hookText3', 'hookText4'];
            const ticker = document.getElementById('hookTicker');
            const btn = document.getElementById('hookBtn');
            
            // Reset all
            texts.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.remove('visible');
            });
            ticker.style.opacity = '0';
            btn.style.opacity = '0';

            // Staggered reveal
            setTimeout(() => document.getElementById('hookText1').classList.add('visible'), 1000);
            setTimeout(() => document.getElementById('hookText2').classList.add('visible'), 2500);
            setTimeout(() => { ticker.style.opacity = '1'; ticker.style.transition = 'opacity 0.5s ease'; }, 3500);
            setTimeout(() => document.getElementById('hookText3').classList.add('visible'), 4500);
            setTimeout(() => {
                const text4 = document.getElementById('hookText4');
                if (text4) {
                    text4.style.opacity = '1';
                    text4.style.transition = 'opacity 0.5s ease';
                }
            }, 5500);
            setTimeout(() => { btn.style.opacity = '1'; btn.style.transition = 'opacity 0.5s ease'; }, 6500);
        }

        // ==================== QUIZ 1 ====================
        function checkQuiz1() {
            const options = document.querySelectorAll('#quiz1 .quiz-option');
            const feedback = document.getElementById('quiz1Feedback');
            let selected = null;

            options.forEach(opt => {
                if (opt.classList.contains('selected')) {
                    selected = opt.dataset.answer;
                }
            });

            if (!selected) {
                alert('Please select an answer');
                return;
            }

            const isCorrect = selected === 'B';

            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.dataset.answer === 'B') {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected') && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            feedback.className = `quiz-feedback visible ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.textContent = isCorrect 
                ? '‚úì Correct! 120 hours ‚Äî that\'s 15 working days lost on scaffolding for ONE valve. Now multiply by hundreds of similar situations across the plant.'
                : '‚úó Not quite. 60 years √∑ 2 years = 30 maintenance visits. 30 √ó 4 hours = 120 hours. That\'s 15 working days lost on scaffolding for ONE valve.';
        }

        document.querySelectorAll('#quiz1 .quiz-option').forEach(opt => {
            opt.addEventListener('click', function() {
                if (this.style.pointerEvents === 'none') return;
                document.querySelectorAll('#quiz1 .quiz-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        // ==================== DESIGN DECISION SIMULATOR ====================
        const componentConfig = {
            valves: { penalty: 45, unit: 'min', label: 'Valves' },
            pumps: { penalty: 120, unit: 'min', label: 'Pumps' },
            heatex: { penalty: 480, unit: 'min', label: 'Heat Exchangers' },
            electrical: { penalty: 240, unit: 'min', label: 'Electrical Panels' },
            instruments: { penalty: 15, unit: 'min', label: 'Instrumentation' },
            large: { penalty: 960, unit: 'min', label: 'Large Components' }
        };

        const COST_PER_DAY = 2100000; // ¬£2.1M per day
        const COST_PER_HOUR = COST_PER_DAY / 24; // 24-hour operations
        const OUTAGES_IN_60_YEARS = 30; // Roughly every 2 years

        function formatCurrency(num) {
            if (num >= 1000000000) {
                return '¬£' + (num / 1000000000).toFixed(1) + 'B';
            } else if (num >= 1000000) {
                return '¬£' + (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return '¬£' + Math.round(num / 1000) + 'K';
            }
            return '¬£' + Math.round(num).toLocaleString();
        }

        function formatNumber(num) {
            return formatCurrency(num);
        }

        function updateGauge(score) {
            const needle = document.getElementById('gaugeNeedle');
            const gaugeValue = document.getElementById('gaugeValue');
            
            if (!needle || !gaugeValue) return;

            // Needle rotation: 0% = -90deg (left), 100% = 90deg (right)
            const rotation = -90 + (score * 1.8); // 180 degrees total range
            needle.style.transform = `rotate(${rotation}deg)`;

            // Update value display
            gaugeValue.textContent = score + '%';

            // Update colours
            gaugeValue.classList.remove('warning', 'danger');
            if (score < 50) {
                gaugeValue.classList.add('danger');
            } else if (score < 100) {
                gaugeValue.classList.add('warning');
            }
        }

        function calculateSimulator() {
            let totalMinutes = 0;
            let componentImpacts = {};
            let poorDecisions = 0;
            const totalComponents = 6;

            Object.keys(componentConfig).forEach(component => {
                const qtySlider = document.getElementById(`${component}Qty`);
                const toggle = document.getElementById(`${component}Toggle`);
                const qtyValue = document.getElementById(`${component}QtyValue`);
                const impactValue = document.getElementById(`${component}Impact`);
                const costValue = document.getElementById(`${component}Cost`);
                const card = document.querySelector(`[data-component="${component}"]`);

                if (!qtySlider || !toggle) return;

                const qty = parseInt(qtySlider.value);
                const isGoodDesign = toggle.checked;

                // Update quantity display
                qtyValue.textContent = qty.toLocaleString();

                // Calculate impact
                let impactMinutes = 0;
                if (!isGoodDesign) {
                    impactMinutes = qty * componentConfig[component].penalty;
                    poorDecisions++;
                    card.classList.add('poor-design');
                    impactValue.classList.add('negative');
                    costValue.classList.add('negative');
                } else {
                    card.classList.remove('poor-design');
                    impactValue.classList.remove('negative');
                    costValue.classList.remove('negative');
                }

                componentImpacts[component] = impactMinutes;
                totalMinutes += impactMinutes;

                // Calculate cost for this component (per outage)
                const hours = impactMinutes / 60;
                const componentCost = hours * COST_PER_HOUR;
                const componentLifetimeCost = componentCost * OUTAGES_IN_60_YEARS;

                // Update individual impact display
                const displayHours = Math.round(hours);
                impactValue.textContent = displayHours > 0 ? `+${displayHours.toLocaleString()} hours` : '0 hours';
                
                // Update cost display (show lifetime cost for impact)
                costValue.textContent = componentLifetimeCost > 0 ? formatCurrency(componentLifetimeCost) : '¬£0';
            });

            // Calculate totals
            const totalHours = Math.round(totalMinutes / 60);
            const totalDays = totalHours / 24; // 24-hour operations during outage
            const costPerOutage = totalDays * COST_PER_DAY;
            const lifetimeCost = costPerOutage * OUTAGES_IN_60_YEARS;

            // Update dashboard
            document.getElementById('totalHours').textContent = totalHours.toLocaleString();
            document.getElementById('totalDays').textContent = totalDays.toFixed(1);
            document.getElementById('costPerOutage').textContent = formatCurrency(costPerOutage);
            document.getElementById('lifetimeCost').textContent = formatCurrency(lifetimeCost);

            // Update gauge
            const score = Math.round(((totalComponents - poorDecisions) / totalComponents) * 100);
            updateGauge(score);

            // Update breakdown bars
            updateBreakdownBars(componentImpacts, totalMinutes);

            // Update verdict
            updateVerdict(poorDecisions, lifetimeCost);
        }

        function updateBreakdownBars(impacts, totalMinutes) {
            const breakdown = document.getElementById('impactBreakdown');
            const barsContainer = document.getElementById('breakdownBars');

            if (totalMinutes === 0) {
                breakdown.classList.remove('visible');
                return;
            }

            breakdown.classList.add('visible');
            barsContainer.innerHTML = '';

            Object.keys(impacts).forEach(component => {
                if (impacts[component] === 0) return;

                const hours = Math.round(impacts[component] / 60);
                const percentage = (impacts[component] / totalMinutes) * 100;

                const bar = document.createElement('div');
                bar.className = 'breakdown-bar';
                bar.innerHTML = `
                    <span class="breakdown-label">${componentConfig[component].label}</span>
                    <div class="breakdown-track">
                        <div class="breakdown-fill" style="width: ${percentage}%"></div>
                    </div>
                    <span class="breakdown-value">+${hours.toLocaleString()}h</span>
                `;
                barsContainer.appendChild(bar);
            });
        }

        function updateVerdict(poorDecisions, lifetimeCost) {
            const verdict = document.getElementById('impactVerdict');
            const icon = document.getElementById('verdictIcon');
            const title = document.getElementById('verdictTitle');
            const message = document.getElementById('verdictMessage');

            verdict.classList.remove('warning', 'danger');

            if (poorDecisions === 0) {
                icon.textContent = '‚úì';
                title.textContent = 'Excellent Design';
                message.innerHTML = 'All components designed with maintenance in mind. The operations team will thank you for decades.<br><span class="verdict-reg">Regulatory: Likely to satisfy SAP EMT and LC28 requirements.</span>';
            } else if (poorDecisions <= 2) {
                verdict.classList.add('warning');
                icon.textContent = '‚ö†';
                title.textContent = 'Room for Improvement';
                message.innerHTML = `${poorDecisions} component type${poorDecisions > 1 ? 's' : ''} not optimised for maintenance. Lifetime cost impact: ${formatCurrency(lifetimeCost)}.<br><span class="verdict-reg">Regulatory: May require ALARP justification for design choices during GDA/PSR.</span>`;
            } else if (poorDecisions <= 4) {
                verdict.classList.add('danger');
                icon.textContent = '‚ö†';
                title.textContent = 'Significant Issues';
                message.innerHTML = `${poorDecisions} component types will cause maintenance difficulties. ${formatCurrency(lifetimeCost)} in avoidable costs.<br><span class="verdict-reg">Regulatory: Expect assessment findings. Safety case will require compensatory measures.</span>`;
            } else {
                verdict.classList.add('danger');
                icon.textContent = '‚úó';
                title.textContent = 'Critical Design Failure';
                message.innerHTML = `Almost nothing designed for maintenance. ${formatCurrency(lifetimeCost)} in unnecessary costs. Every outage will be a nightmare.<br><span class="verdict-reg">Regulatory: Will not pass GDA. Fundamental redesign required to meet SAP EMT.</span>`;
            }
        }

        function resetSimulator() {
            Object.keys(componentConfig).forEach(component => {
                const toggle = document.getElementById(`${component}Toggle`);
                if (toggle) toggle.checked = true;
            });
            calculateSimulator();
        }

        // Initialise simulator
        function initSimulator() {
            // Add event listeners to all sliders and toggles
            Object.keys(componentConfig).forEach(component => {
                const qtySlider = document.getElementById(`${component}Qty`);
                const toggle = document.getElementById(`${component}Toggle`);

                if (qtySlider) {
                    qtySlider.addEventListener('input', calculateSimulator);
                }
                if (toggle) {
                    toggle.addEventListener('change', calculateSimulator);
                }
            });

            // Initial calculation
            calculateSimulator();
        }

        // ==================== CHECKLIST ====================
        function toggleChecklistItem(item) {
            item.classList.toggle('checked');
            item.classList.toggle('expanded');
        }

        // ==================== COMPLETION ====================
        function completeModule() {
            // Save completion to localStorage
            localStorage.setItem('module52_complete', 'true');
            localStorage.setItem('module52_completedAt', new Date().toISOString());

            // Hide main content, show completion
            document.querySelector('#page9 .section').style.display = 'none';
            document.getElementById('completionScreen').style.display = 'block';

            // Update progress to 100%
            visitedPages = new Set([1, 2, 3, 4, 5, 6, 7, 8, 9]);
            updateProgress();
        }

        function restartModule() {
            document.querySelector('#page9 .section').style.display = 'block';
            document.getElementById('completionScreen').style.display = 'none';
            goToPage(1);
        }

        // ==================== INITIALISATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Trigger hook animations on load
            triggerHookAnimations();
            
            // Initialise design decision simulator
            initSimulator();

            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                const navMenu = document.getElementById('navMenu');
                const menuToggle = document.querySelector('.menu-toggle');
                if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                    navMenu.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>
